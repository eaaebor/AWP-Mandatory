{"version":3,"sources":["AskQuestion.js","PostAnswer.js","Question.js","Questions.js","App.js","index.js"],"names":["AskQuestion","props","API_URL","process","state","title","desc","event","this","setState","target","name","value","fetch","headers","method","mode","body","JSON","stringify","response","json","data","console","log","placeholder","onChange","type","onClick","_","onSubmit","Component","PostAnswer","id","answer","autoComplete","Question","submitAnswer","vote","answerId","question","getQuestion","displayAnswers","answers","map","className","text","votes","updateVote","_id","submit","clicked","Questions","list","d","key","Math","random","to","App","questions","getQuestions","comments","newQuestion","length","find","x","unshift","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4ceee387.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nclass AskQuestion extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: \"\",\r\n            desc: \"\"\r\n        }\r\n    }\r\n\r\n    onChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    async onSubmit() {\r\n        // this.props.submit(this.state.answer, this.state.id);\r\n        let response = await fetch(`${this.API_URL}/askquestion`, {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },    \r\n        method: 'PUT',\r\n            mode: 'cors',\r\n            body: JSON.stringify({\r\n                title: this.state.title,\r\n                desc: this.state.desc\r\n            })\r\n        })\r\n        const data = await response.json();\r\n        console.log(\"Here's the response: \", data)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <input placeholder=\"Write a title here\" name=\"title\" onChange={event => this.onChange(event)} type=\"text\"/>\r\n                <input placeholder=\"Write your question here\" name=\"desc\" onChange={event => this.onChange(event)} type=\"text\"/>\r\n                <button onClick={_ => this.onSubmit()}>Ask Question</button>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AskQuestion;\r\n","import React, {Component} from 'react';\r\n\r\nclass PostAnswer extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChange(event) {\r\n        this.setState({\r\n            id: this.props.data,\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    async onSubmit() {\r\n        // this.props.submit(this.state.answer, this.state.id);\r\n        let response = await fetch(`${this.API_URL}/questions/${this.state.id}`, {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },    \r\n        method: 'PUT',\r\n            mode: 'cors',\r\n            body: JSON.stringify({\r\n                id: this.state.id,\r\n                answer: this.state.answer\r\n            })\r\n        })\r\n        const data = await response.json();\r\n        console.log(\"Here's the response: \", data)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <h3>Comments</h3>\r\n                <input autoComplete=\"off\" name=\"answer\" onChange={event => this.onChange(event)} type=\"text\"/>\r\n                <button onClick={_ => this.onSubmit()}>Send Answer</button>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PostAnswer;\r\n\r\n","import React, {Component} from 'react';\r\nimport PostAnswer from \"./PostAnswer\";\r\n\r\nclass Question extends Component {\r\n    API_URL = process.env.REACT_APP_API_URL;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            id: this.props.id,\r\n        }\r\n    }\r\n\r\n    submit(answer){\r\n        this.setState({\r\n            answer: answer\r\n        }, () => {\r\n            this.props.submitAnswer(this.state.answer, this.state.id)\r\n        });\r\n    }\r\n\r\n    async updateVote(id, vote){\r\n        let response = await fetch(`${this.API_URL}/vote`, {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },    \r\n        method: 'PUT',\r\n            mode: 'cors',\r\n            body: JSON.stringify({\r\n                answerId: id,\r\n                vote: vote\r\n            })\r\n        })\r\n        const data = await response.json();\r\n        console.log(\"Here's the response: \", data)\r\n    }\r\n    \r\n    render() {\r\n        const id = this.props.id;\r\n        const question = this.props.getQuestion(id);\r\n        const answers = question.answers;\r\n\r\n        const displayAnswers = answers.map(answer => \r\n        <div className=\"comment\">{answer.text}\r\n            <span className=\"votes\">Votes: {answer.votes}</span>\r\n            <button onClick={() => { this.updateVote(answer._id, \"up\") }} className=\"btn\">Upvote</button>\r\n            <button onClick={() => { this.updateVote(answer._id, \"down\") }} className=\"btn\">Downvote</button>\r\n        </div>)\r\n        \r\n        return (\r\n            <>\r\n                <h1>{question.text}</h1>\r\n                <p>{question.desc}</p>\r\n                <PostAnswer data={this.state.id} submit={(answer, id) => this.submit(answer, id)} onClick={_ => this.clicked()}></PostAnswer>\r\n                {displayAnswers}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Question;\r\n\r\n","import React, {Component} from 'react';\r\nimport { Link } from \"@reach/router\";\r\n\r\nclass Questions extends Component {\r\n    \r\n    render() {\r\n        let questions = this.props.data;\r\n        const list = questions.map((d) => <Link  key={Math.random()} to={\"/question/\"+d._id}><li>{d.text}</li></Link>);\r\n\r\n        \r\n\r\n        return (\r\n            <>\r\n                <h3>All questions</h3>\r\n                <ul>\r\n                    {list}\r\n                </ul>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Questions;\r\n\r\n","import React, {Component} from 'react';\nimport { Router, Link } from \"@reach/router\";\nimport AskQuestion from './AskQuestion';\nimport Question from './Question';\nimport Questions from './Questions';\nimport './style.css'\n\nclass App extends Component {\n    API_URL = process.env.REACT_APP_API_URL;\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            questions: []\n        }\n    }\n\n    componentDidMount(){\n        this.getQuestions()\n    }\n\n    async getQuestions(){\n        let response = await fetch(`${this.API_URL}/questions`)\n        let data = await response.json()\n        this.setState({\n            questions: data\n        })\n    }\n\n    submit(title, desc, comments) {\n        let last = this.state.questions[this.state.questions.length -1]\n        const newQuestion = {\n            id: last.id + 1,\n            title: title,\n            question: desc,\n            comments: comments\n        };\n        this.setState({\n            questions: [...this.state.questions, newQuestion]\n        })\n    }\n\n    getQuestion(id) {\n        const findFunction = questions => questions._id === id; \n        return this.state.questions.find(findFunction)\n    }\n\n    submitAnswer(answer, id){\n        let state = this.state.questions\n        let element = state.find(x=>x.id === id)\n        element.comments.unshift(answer);\n    }\n\n    render() {\n        return (\n            <>\n            <nav>\n                <ul>\n                    <Link to=\"/\"><li key=\"home\">Home</li></Link>\n                    <Link to=\"/\"><li key =\"questions\">Questions</li></Link>\n                    <Link to=\"/ask\"><li key=\"ask\">Ask a question</li></Link>\n                </ul>\n            </nav>\n                <Router>\n                  <AskQuestion path=\"/ask\" submit={(title, desc, comments) => this.submit(title, desc, comments)}></AskQuestion>\n                  <Question path=\"/question/:id\" getQuestion={(id) => this.getQuestion(id)} submitAnswer={(answer, id) => this.submitAnswer(answer, id)}></Question>\n                  <Questions path=\"/\" data={this.state.questions}></Questions>\n                </Router>\n\n            </>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}